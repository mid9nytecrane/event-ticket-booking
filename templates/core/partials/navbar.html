<header class='fixed top-0 left-0 z-50 
              w-full bg-[#233d4d]
              shadow-md flex justify-between 
              items-center  
              px-4 
              md:px-12
              h-12
              md:h-20
              transition-all duration-300
              '
              :class="{'md:h-20': ! scrollFromTop, 'md:h-12': scrollFromTop}"
              >
  <!--logo-->
  <a href="/" class='hover:scale-104 duration-300' >
    <span 
      class='h-4 
      text-[#fe7f2d] 
      text-2xl
      font-bold
      md:text-2xl
      transition-all duration-300
      '
      :class="{'md:text-2xl': ! scrollFromTop, 'md:text-lg': scrollFromTop}"
      >
      EventTribe
    </span>

  </a>

  <nav>
    <!--hamburger-->
    <button class="md:hidden" @click="navbarOpen = ! navbarOpen">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="size-8 text-white">
        <path fill-rule="evenodd" d="M3 6.75A.75.75 0 0 1 3.75 6h16.5a.75.75 0 0 1 0 1.5H3.75A.75.75 0 0 1 3 6.75ZM3 12a.75.75 0 0 1 .75-.75h16.5a.75.75 0 0 1 0 1.5H3.75A.75.75 0 0 1 3 12Zm0 5.25a.75.75 0 0 1 .75-.75h16.5a.75.75 0 0 1 0 1.5H3.75a.75.75 0 0 1-.75-.75Z" clip-rule="evenodd" />
      </svg>

    </button>

    <div class='fixed top-0 left-10 
        w-full 
        min-h-screen
        md:h-20 
        space-y-4 
        bg-[#233d4d] p-4
        transition-all duration-300
        transform
        translate-x-full
        md:relative md:space-y-0 md:space-x-6 md:p-0
        md:min-h-0 md:left-0
        md:translate-x-0
        md:flex md:items-center
        md:top-0
        '
        
        :class="{
          'translate-x-0': navbarOpen,
          'translate-x-full': ! navbarOpen,
          'md:h-20': ! scrollFromTop,
          'md:h-12': scrollFromTop,
        }">
      
      <!--close mobile navbar button-->
      <button
        class='absolute z-10 top-8 left-70 md:hidden'
        @click="navbarOpen = false"
      > 
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="size-8 text-semibold text-white">
          <path fill-rule="evenodd" d="M5.47 5.47a.75.75 0 0 1 1.06 0L12 10.94l5.47-5.47a.75.75 0 1 1 1.06 1.06L13.06 12l5.47 5.47a.75.75 0 1 1-1.06 1.06L12 13.06l-5.47 5.47a.75.75 0 0 1-1.06-1.06L10.94 12 5.47 6.53a.75.75 0 0 1 0-1.06Z" clip-rule="evenodd" />
        </svg>

      </button>
      
      <h1 class="text-2xl text-[#fe7f2d] font-bold -mt-1 px-3 md:hidden">EventTribe</h1>
      
      
      <ul class="md:flex  md:items-center gap-3 space-y-3 md:space-y-0">

        <li class='text-white hover:text-orange-500'><a href="">Browse Events</a></li>
        <li class='text-white'><a href="">Create Event</a></li>
        <li class='text-white'><a href="">About Us</a></li>
      </ul>
    
      <!--profile  dropdown-->
      <div
        x-data="{
          open: false,
          toggle(){
            this.open = this.open ? this.close() : true
          },
          close(){
            this.open = false;
          }

        }"
        @keyframe.escape.prevent.stop="close()"
        class="relative"
      >

        <!--button-->
        <button
          @click="toggle()"
          type='button'
          class=' 
              flex items-center gap-2
              w-35
              text-white 
              font-semibold
              py-1.5 px-3 
              hover:scale-104
              transition-all
              hover:text-[#fe7f2d]
              focus:text-[#fe7f2d]
              duration-300
               '
        >
        <img width="64" height="64" src="https://img.icons8.com/cute-clipart/64/patrick-star.png" alt="patrick-star"
        class="w-8 h-8 rounded-full bg-amber-500 object-cover"
        />
        {% if request.user.is_authenticated %}
        {{request.user}}
        {% else %}
        Guest
        {% endif %}

        


        </button>
        
        <!--panel-->
        <div
          x-show="open"
          @click.outside = "close()"
          style="display:none;"
          class="absolute right-0 bg-[#233d4d] rounded-sm mt-2 h-50 w-50 py-2"
        >
          <!--panel content-->
          <div class="space-y-4">

            <a href="">
              <div class='w-full text-white hover:bg-[#fe7f2d] hover:text-black p-2 '>
                Profile
              </div>
            </a>
            {% if request.user.is_authenticated%}
            
            <a href="{% url 'account_logout'%}">
              <div class=' block w-full text-white hover:bg-[#fe7f2d] hover:text-black p-2 '>
                  Sign Out
                </div>
            </a>

              {% else %}
            <a href="{% url 'account_login'%}">
              <div class=' block w-full text-white hover:bg-[#fe7f2d] hover:text-black p-2 '>
                  Signin
                </div>
            </a>

            <a href="{% url 'account_signup'%}">
              <div class=' block w-full text-white hover:bg-[#fe7f2d] hover:text-black p-2 '>
                  Signup
                </div>
            </a>

            {% endif %}

          </div>
        </div>

      </div>

      {% comment %} <div class="md border-t py-4 border-gray-100  md:border-0  flex justify-center items-center gap-1">
        {% if request.user.is_authenticated %}
          <h1 class='text-white font-semibold md:px-2'>{{request.user.username}}</h1>
          <a href="{% url 'account_logout'%}" class='text-blue-500 underline hover:scale-104 duration-300'>logout</a>

        {% else %}
          <a href="{% url 'account_login'%}" class='text-blue-500 underline hover:scale-104 duration-300'>login</a>  
          <a href="{% url 'account_signup'%}" class='text-blue-500 underline hover:scale-104 duration-300'>signup</a>  
        {% endif %}
        

      </div> {% endcomment %}
    </div>
    
  </nav>

</header>