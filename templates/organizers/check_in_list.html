{% extends "core/base.html" %}
{% block content %}

<div class="mt-20 px-4 md:px-10 py-2 min-h-screen">
    <a href="{% url 'organizers:creator-dashboard'%}" 
        class="flex  items-center gap-2 mb-1  bg-gray-100 w-20 px-2 py-1 shadow-lg rounded-full hover:bg-gray-200">

    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="size-6">
    <path fill-rule="evenodd" d="M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25Zm-4.28 9.22a.75.75 0 0 0 0 1.06l3 3a.75.75 0 1 0 1.06-1.06l-1.72-1.72h5.69a.75.75 0 0 0 0-1.5h-5.69l1.72-1.72a.75.75 0 0 0-1.06-1.06l-3 3Z" clip-rule="evenodd" />
    </svg>

        back
    </a>
  <h1 class="text-2xl md:text-3xl font-bold mb-2">
    Checked-In Attendees
  </h1>

  <p class="text-gray-500 mb-6">
    Event: <span class="font-semibold text-gray-800">{{ event.title }}</span>
  </p>

<div class="bg-white rounded-2xl shadow border overflow-hidden">
    {% if checked_in %}
    <div class="p-6 border-b">
      <h2 class="text-xl font-semibold text-gray-900">Attendee List</h2>
    </div>

    <div class="overflow-x-auto">
      <table class="w-full text-sm">
        <thead class="bg-gray-100 text-gray-600 uppercase text-xs">
          <tr>
            <th class="px-6 py-4 text-center">#</th>
            <th class="px-6 py-4 text-center">Attendee</th>
            <th class="px-6 py-4 text-center">Email</th>
            <th class="px-6 py-4 text-center">Checked-In At</th>
            <th class="px-6 py-4 text-center">Status</th>
            
          </tr>
        </thead>
        <!-- table body -->
        <tbody>
            {% for ticket in checked_in %}
            <tr class="hover:bg-gray-50">
                <td class="px-6 py-4 text-gray-900 font-semibold text-center">{{forloop.counter}}</td>
                <td class="px-6 py-4 text-gray-900 font-semibold text-center ">
                    {{ticket.attendee.get_full_name|default:ticket.attendee.username}}
                </td>
                <td class="px-6 py-4 text-gray-900 font-semibold text-center ">
                    {{ticket.attendee.email}}
                </td>
                <td class="px-6 py-4 text-gray-900 font-semibold text-center ">
                    {{ticket.checked_in_at|date:"M d, Y - H:i A"}}
                </td>
                <td class="px-6 py-4 text-gray-900 font-semibold text-center w-56 mx-auto ">
            
                    <span class="  text-green-700 text-xs font-semibold ">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="size-6">
                        <path fill-rule="evenodd" d="M8.603 3.799A4.49 4.49 0 0 1 12 2.25c1.357 0 2.573.6 3.397 1.549a4.49 4.49 0 0 1 3.498 1.307 4.491 4.491 0 0 1 1.307 3.497A4.49 4.49 0 0 1 21.75 12a4.49 4.49 0 0 1-1.549 3.397 4.491 4.491 0 0 1-1.307 3.497 4.491 4.491 0 0 1-3.497 1.307A4.49 4.49 0 0 1 12 21.75a4.49 4.49 0 0 1-3.397-1.549 4.49 4.49 0 0 1-3.498-1.306 4.491 4.491 0 0 1-1.307-3.498A4.49 4.49 0 0 1 2.25 12c0-1.357.6-2.573 1.549-3.397a4.49 4.49 0 0 1 1.307-3.497 4.49 4.49 0 0 1 3.497-1.307Zm7.007 6.387a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z" clip-rule="evenodd" />
                        </svg>
                    </span>
                </td>

            </tr>
            {% endfor %}
        </tbody>
      </table>
    </div>
    {% else %}
    <div class="bg-yellow-50 border border-yellow-200 p-5 rounded-xl text-center">
      <p class="text-yellow-700 font-medium">
        No attendees have checked in yet.
      </p>
    </div>
    {% endif %}
  </div>


</div>

{% endblock %}
